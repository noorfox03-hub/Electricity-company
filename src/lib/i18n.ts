import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';
import LanguageDetector from 'i18next-browser-languagedetector';

const resources = {
  ar: {
    translation: {
      // --- عام ---
      app_name: "SAS للنقل",
      slogan: "نمضي بك قدماً",
      welcome: "مرحباً بك في SAS للنقل",
      language_select: "اختر اللغة",
      continue: "استمرار",
      rights: "© 2026 SAS للنقل. جميع الحقوق محفوظة.",
      sar: "ريال",
      km: "كم",
      kg: "كجم",
      loading: "جاري التحميل...",
      no_data: "لا توجد بيانات",
      confirm: "تأكيد",
      cancel: "إلغاء",
      save: "حفظ",
      save_draft: "حفظ كمسودة",
      next: "التالي",
      previous: "السابق",
      back: "عودة",
      view_all: "عرض الكل",
      search_placeholder: "بحث...",
      step: "خطوة",
      
      // --- المصادقة (تسجيل الدخول / إنشاء حساب) ---
      login_users: "دخول المستخدمين",
      admin_login: "الإدارة",
      driver: "ناقل / سائق",
      shipper: "شاحن (صاحب بضاعة)",
      admin: "مدير النظام",
      
      // نصوص إنشاء الحساب الجديدة
      create_account: "إنشاء حساب جديد",
      select_account_type: "اختر نوع الحساب",
      driver_desc: "أرغب في نقل البضائع",
      shipper_desc: "أرغب في شحن بضائع",
      have_account: "لدي حساب بالفعل؟",
      no_account: "ليس لديك حساب؟",
      register_now: "سجل الآن",
      passwords_no_match: "كلمات المرور غير متطابقة",
      otp_sent_email: "تم إرسال رمز التحقق إلى البريد:",
      account_created_success: "تم إنشاء الحساب بنجاح",
      check_email: "تفقد بريدك الإلكتروني",
      otp_sent_to_msg: "لقد أرسلنا رمز التحقق إلى بريدك الإلكتروني",
      complete_registration: "إتمام التسجيل",
      verify_email_btn: "التحقق من البريد",
      
      // نصوص نسيت كلمة المرور
      forgot_password: "نسيت كلمة المرور؟",
      forgot_password_desc: "أدخل بريدك الإلكتروني وسنرسل لك رابطاً لإعادة تعيين كلمة المرور.",
      send_reset_link: "إرسال رابط الاستعادة",
      email_sent: "تم الإرسال",
      check_spam_msg: "يرجى التحقق من صندوق الوارد أو البريد العشوائي (Spam).",
      back_to_login: "العودة لتسجيل الدخول",
      enter_email: "أدخل البريد الإلكتروني",
      reset_link_sent: "تم إرسال رابط الاستعادة",
      fill_all_fields: "يرجى تعبئة جميع الحقول",
      login_failed: "فشل تسجيل الدخول",

      phone_label: "رقم الجوال",
      phone_placeholder: "5XXXXXXXX",
      send_code: "إرسال الرمز",
      verify_title: "التحقق",
      enter_phone: "أدخل رقم الجوال",
      send_otp_msg: "سنرسل لك رمز التحقق عبر رسالة نصية",
      enter_otp: "أدخل رمز التحقق",
      otp_sent_to: "تم إرسال رمز التحقق إلى",
      resend_code: "إعادة إرسال الرمز",
      verify_btn: "تحقق",
      complete_profile: "إكمال البيانات",
      full_name: "الاسم بالكامل",
      name_placeholder: "اسمك الثلاثي",
      email_label: "البريد الإلكتروني",
      password_label: "كلمة المرور",
      confirm_password: "تأكيد كلمة المرور",
      login_btn: "دخول",
      success_login: "تم الدخول بنجاح",
      new_user_msg: "مستخدم جديد: يرجى إكمال البيانات",
      error_phone: "رقم الهاتف غير صحيح",
      error_otp: "الرمز خطأ",
      error_generic: "حدث خطأ ما",

      // --- لوحة تحكم السائق ---
      welcome_user: "مرحباً بك",
      visitor: "زائر",
      nearby_loads: "حمولات قريبة",
      loads_available_count: "{{count}} حمولة متاحة",
      advanced_search: "بحث متقدم",
      search_by_dest: "ابحث حسب الوجهة",
      trip_history: "سجل الرحلات",
      previous_trips: "رحلاتك السابقة",
      my_account: "حسابي",
      profile_settings: "الملف الشخصي",
      completed_trips: "الرحلات المكتملة",
      rating: "التقييم",
      monthly_earnings: "الأرباح هذا الشهر",
      recent_loads: "أحدث الحمولات",
      no_recent_loads: "لا توجد حمولات حديثة",
      register_truck: "تسجيل شاحنة جديدة",
      register_driver: "إضافة سائق",
      submit_offer: "تقديم عرض",
      active_shipments: "شحنات جارية",
      carrier_dashboard: "لوحة الناقل",
      
      // --- تفاصيل الحمولة ---
      load_details: "تفاصيل الحمولة",
      available_status: "متاحة",
      in_progress_status: "جاري التوصيل",
      completed_status: "مكتملة",
      status_active: "نشطة",
      status_delayed: "مؤجلة",
      status_cancelled: "ملغاة",
      origin: "المصدر",
      destination: "الوجهة",
      distance_label: "المسافة",
      time_label: "الوقت المتوقع",
      weight_label: "الوزن",
      price_label: "السعر",
      truck_label: "الشاحنة",
      load_desc: "وصف وتفاصيل البضاعة",
      no_desc: "لا يوجد وصف إضافي",
      owner_info: "صاحب الحمولة",
      published_at: "نشرت",
      contact_whatsapp: "واتساب",
      contact_call: "اتصال",
      whatsapp_msg: "مرحباً، بخصوص الحمولة من {{origin}} إلى {{dest}}",
      
      // --- نافذة الاتفاق (Feedback) ---
      call_report: "تقرير الاتصال",
      commission_warning: "SAS غير مسؤول عن دفع العمولة لهذا المرسل!",
      did_you_agree: "هل اتفقت مع صاحب الحمولة؟",
      yes_agreed: "نعم، اتفقت",
      no_missed: "لا، لقد كانت الحمولة قد مرت",
      no_answer: "لا، لم يجب صاحب الحمولة",
      no_other: "لا، لأسباب أخرى",
      agree_success: "تم إضافة الرحلة لسجلك بنجاح",
      
      // --- بحث السائق ---
      filter_results: "تصفية النتائج",
      from_city: "من (المصدر)",
      to_city: "إلى (الوجهة)",
      choose_city: "اختر المدينة",
      search_results: "نتائج البحث",
      no_loads_found: "لا توجد حمولات مطابقة",
      
      // --- سجل السائق ---
      my_trips: "رحلاتي",
      no_history: "لم تقم بأي رحلات بعد",
      cancel_trip: "إلغاء الرحلة",
      confirm_cancel: "هل أنت متأكد من إلغاء هذه الرحلة من سجلك؟",
      cancel_success: "تم إلغاء الرحلة وإعادتها للقائمة المتاحة",
      trips: "رحلات",
      cancelled_status: "ملغاة",
      
      // --- حساب السائق ---
      vehicle_info: "معلومات المركبة",
      truck_type: "نوع الشاحنة",
      trailer_type: "نوع المقطورة",
      dimensions: "الأبعاد",
      settings: "الإعدادات",
      notifications: "الإشعارات",
      help_support: "المساعدة والدعم",
      logout: "تسجيل الخروج",
      print_policy: "طباعة بوليصة",
      
      // --- لوحة تحكم الشاحن (المرسل) ---
      shipper_dashboard: "لوحة تحكم الشاحن",
      available_trucks: "الشاحنات المتاحة",
      driver_available: "سائق متاح",
      find_driver: "ابحث عن سائق...",
      all_cities: "الكل",
      no_drivers: "لا يوجد سائقين حالياً",
      nav_trucks: "الشاحنات",
      nav_post_load: "نشر حمولة",
      my_shipments: "شحناتي",
      account_statement: "كشف حساب",
      tracking: "تتبع الشحنة",
      messages: "المراسلات",
      rate_driver: "تقييم السائق",
      
      // --- إضافة شحنة (Wizard) ---
      add_new_shipment: "إضافة شحنة جديدة",
      shipment_type: "نوع الشحنة",
      package_type: "نوع العبوة",
      pickup_location: "موقع التحميل",
      delivery_location: "موقع التسليم",
      req_date: "التاريخ المطلوب",
      add_products: "إضافة منتجات",
      product_name: "اسم المنتج",
      product_desc: "وصف مختصر",
      product_type: "النوع (غذائية، بناء..)",
      quantity: "الكمية",
      unit: "الوحدة",
      add_product_btn: "إضافة منتج",
      receiver_info: "معلومات المستلم",
      receiver_name: "اسم المستلم",
      receiver_phone: "جوال المستلم",
      receiver_address: "العنوان الكامل",
      send_shipment: "إرسال الطلب",
      
      // --- نشر حمولة (سريع) ---
      post_new_load: "نشر حمولة سريعة",
      route_details: "تفاصيل المسار",
      pickup_point: "من (نقطة التحميل)",
      dropoff_point: "إلى (نقطة التنزيل)",
      estimated_distance: "المسافة المقدرة",
      truck_type_optional: "نوع الشاحنة (اختياري)",
      additional_details: "تفاصيل إضافية",
      desc_placeholder: "اذكر نوع البضاعة، شروط التحميل، أو أي ملاحظات...",
      post_now_btn: "نشر الحمولة الآن",
      fill_fields_error: "الرجاء تعبئة الحقول الأساسية",
      post_success: "تم نشر الحمولة بنجاح",
      
      // --- لوحة تحكم الإدارة ---
      dashboard: "لوحة التحكم",
      admin_dashboard: "لوحة تحكم الإدارة",
      system_management: "إدارة النظام",
      overview: "نظرة عامة",
      drivers_list: "قائمة السائقين",
      shippers_list: "قائمة الشاحنين",
      users_management: "إدارة المستخدمين",
      shipments_management: "إدارة الشحنات",
      orders_list: "الطلبات",
      total_users: "إجمالي المستخدمين",
      active_users: "المستخدمين النشطين",
      today_shipments: "شحنات اليوم",
      active_loads: "الحمولات النشطة",
      recent_orders: "الطلبات الحديثة",
      live_status: "مباشر",
      registration_date: "تاريخ التسجيل",
      no_registered_drivers: "لا يوجد سائقين مسجلين",
      total_registered: "إجمالي المسجلين",
      finance_operations: "العمليات المالية",
      support_reports: "الدعم والتقارير",
      system_settings: "إعدادات النظام",
      total_commissions: "إجمالي العمولات",
      performance_reports: "تقارير الأداء",
      
      // --- أنواع الشاحنات والمقطورات ---
      trella: "تريلا",
      lorry: "لوري",
      dyna: "دينا",
      pickup: "بيك أب",
      refrigerated: "مبرد",
      tanker: "صهريج",
      flatbed: "سطحة",
      container: "حاوية",
      trailer_flatbed: "مسطح",
      curtain: "ستارة",
      box: "صندوق",
      trailer_refrigerated: "مبرد",
      lowboy: "لوبوي",
      tank: "خزان",
      truck_types: "أنواع الشاحنات",
      trailer_types: "أنواع المقطورات",
      
      // --- تفاصيل البضائع ---
      general_goods: "بضائع عامة",
      food_stuff: "مواد غذائية",
      building_materials: "مواد بناء",
      carton: "كرتون",
      sack: "شوال",
      pallet: "طبلية",
      
      // --- الأبعاد ---
      small: "صغير",
      medium: "متوسط",
      large: "كبير",
      extra_large: "كبير جداً"
    }
  },
  en: {
    translation: {
      // --- General ---
      app_name: "SAS Transport",
      slogan: "Moving You Forward",
      welcome: "Welcome to SAS Transport",
      language_select: "Choose Language",
      continue: "Continue",
      rights: "© 2026 SAS Transport. All rights reserved.",
      sar: "SAR",
      km: "km",
      kg: "kg",
      loading: "Loading...",
      no_data: "No data found",
      confirm: "Confirm",
      cancel: "Cancel",
      save: "Save",
      save_draft: "Save Draft",
      next: "Next",
      previous: "Previous",
      back: "Back",
      view_all: "View All",
      search_placeholder: "Search...",
      step: "Step",
      
      // --- Auth & Registration ---
      login_users: "User Login",
      admin_login: "Admin",
      driver: "Driver / Carrier",
      shipper: "Shipper",
      admin: "System Admin",
      
      create_account: "Create Account",
      select_account_type: "Select Account Type",
      driver_desc: "I want to transport goods",
      shipper_desc: "I want to ship goods",
      have_account: "Already have an account?",
      no_account: "Don't have an account?",
      register_now: "Register Now",
      passwords_no_match: "Passwords do not match",
      otp_sent_email: "Code sent to email:",
      account_created_success: "Account created successfully",
      check_email: "Check your Email",
      otp_sent_to_msg: "We sent a verification code to your email",
      complete_registration: "Complete Registration",
      verify_email_btn: "Verify Email",
      
      forgot_password: "Forgot Password?",
      forgot_password_desc: "Enter your email address and we'll send you a link to reset your password.",
      send_reset_link: "Send Reset Link",
      email_sent: "Email Sent",
      check_spam_msg: "Please check your inbox or spam folder.",
      back_to_login: "Back to Login",
      enter_email: "Enter Email Address",
      reset_link_sent: "Reset link sent",
      fill_all_fields: "Please fill all fields",
      login_failed: "Login Failed",

      phone_label: "Phone Number",
      phone_placeholder: "5XXXXXXXX",
      send_code: "Send Code",
      verify_title: "Verification",
      enter_phone: "Enter Mobile Number",
      send_otp_msg: "We will send a verification code via SMS",
      enter_otp: "Enter Verification Code",
      otp_sent_to: "Code sent to",
      resend_code: "Resend Code",
      verify_btn: "Verify",
      complete_profile: "Complete Profile",
      full_name: "Full Name",
      name_placeholder: "Your Full Name",
      email_label: "Email",
      password_label: "Password",
      confirm_password: "Confirm Password",
      login_btn: "Login",
      success_login: "Logged in successfully",
      new_user_msg: "New user: Please complete your profile",
      error_phone: "Invalid phone number",
      error_otp: "Incorrect code",
      error_generic: "Something went wrong",

      // --- Driver Dashboard ---
      welcome_user: "Welcome",
      visitor: "Guest",
      nearby_loads: "Nearby Loads",
      loads_available_count: "{{count}} loads available",
      advanced_search: "Advanced Search",
      search_by_dest: "Search by destination",
      trip_history: "Trip History",
      previous_trips: "Your previous trips",
      my_account: "My Account",
      profile_settings: "Profile Settings",
      completed_trips: "Completed Trips",
      rating: "Rating",
      monthly_earnings: "Monthly Earnings",
      recent_loads: "Recent Loads",
      no_recent_loads: "No recent loads",
      register_truck: "Register New Truck",
      register_driver: "Add Driver",
      submit_offer: "Submit Offer",
      active_shipments: "Active Shipments",
      carrier_dashboard: "Carrier Dashboard",
      
      // --- Load Details ---
      load_details: "Load Details",
      available_status: "Available",
      in_progress_status: "In Progress",
      completed_status: "Completed",
      status_active: "Active",
      status_delayed: "Delayed",
      status_cancelled: "Cancelled",
      origin: "Origin",
      destination: "Destination",
      distance_label: "Distance",
      time_label: "Est. Time",
      weight_label: "Weight",
      price_label: "Price",
      truck_label: "Truck",
      load_desc: "Load Description & Details",
      no_desc: "No additional description",
      owner_info: "Load Owner",
      published_at: "Posted",
      contact_whatsapp: "WhatsApp",
      contact_call: "Call",
      whatsapp_msg: "Hello, regarding the load from {{origin}} to {{dest}}",
      
      // --- Feedback Modal ---
      call_report: "Call Report",
      commission_warning: "SAS is not responsible for commission payment for this sender!",
      did_you_agree: "Did you agree with the load owner?",
      yes_agreed: "Yes, Agreed",
      no_missed: "No, Load was taken",
      no_answer: "No, No Answer",
      no_other: "No, Other Reasons",
      agree_success: "Trip added to your history successfully",
      
      // --- Driver Search ---
      filter_results: "Filter Results",
      from_city: "From (Origin)",
      to_city: "To (Destination)",
      choose_city: "Select City",
      search_results: "Search Results",
      no_loads_found: "No matching loads found",
      
      // --- Driver History ---
      my_trips: "My Trips",
      no_history: "No trips yet",
      cancel_trip: "Cancel Trip",
      confirm_cancel: "Are you sure you want to cancel this trip?",
      cancel_success: "Trip cancelled and returned to available list",
      trips: "trips",
      cancelled_status: "Cancelled",
      
      // --- Driver Account ---
      vehicle_info: "Vehicle Information",
      truck_type: "Truck Type",
      trailer_type: "Trailer Type",
      dimensions: "Dimensions",
      settings: "Settings",
      notifications: "Notifications",
      help_support: "Help & Support",
      logout: "Logout",
      print_policy: "Print Policy",
      
      // --- Shipper Dashboard ---
      shipper_dashboard: "Shipper Dashboard",
      available_trucks: "Available Trucks",
      driver_available: "Driver Available",
      find_driver: "Find a driver...",
      all_cities: "All",
      no_drivers: "No drivers available",
      nav_trucks: "Trucks",
      nav_post_load: "Post Load",
      my_shipments: "My Shipments",
      account_statement: "Account Statement",
      tracking: "Tracking",
      messages: "Messages",
      rate_driver: "Rate Driver",

      // --- Add Shipment (Wizard) ---
      add_new_shipment: "Add New Shipment",
      shipment_type: "Shipment Type",
      package_type: "Package Type",
      pickup_location: "Pickup Location",
      delivery_location: "Delivery Location",
      req_date: "Required Date",
      add_products: "Add Products",
      product_name: "Product Name",
      product_desc: "Brief Description",
      product_type: "Type (Food, Building..)",
      quantity: "Quantity",
      unit: "Unit",
      add_product_btn: "Add Product",
      receiver_info: "Receiver Info",
      receiver_name: "Receiver Name",
      receiver_phone: "Receiver Mobile",
      receiver_address: "Full Address",
      send_shipment: "Send Request",
      
      // --- Post Load (Quick) ---
      post_new_load: "Post Quick Load",
      route_details: "Route Details",
      pickup_point: "Pickup Point",
      dropoff_point: "Dropoff Point",
      estimated_distance: "Estimated Distance",
      truck_type_optional: "Truck Type (Optional)",
      additional_details: "Additional Details",
      desc_placeholder: "Describe goods, loading conditions, or any notes...",
      post_now_btn: "Post Load Now",
      fill_fields_error: "Please fill in required fields",
      post_success: "Load posted successfully",
      
      // --- Admin Dashboard ---
      dashboard: "Dashboard",
      admin_dashboard: "Admin Dashboard",
      system_management: "System Management",
      overview: "Overview",
      drivers_list: "Drivers List",
      shippers_list: "Shippers List",
      users_management: "Users Management",
      shipments_management: "Shipments Management",
      orders_list: "Orders",
      total_users: "Total Users",
      active_users: "Active Users",
      today_shipments: "Today Shipments",
      active_loads: "Active Loads",
      recent_orders: "Recent Orders",
      live_status: "Live",
      registration_date: "Reg. Date",
      no_registered_drivers: "No registered drivers",
      total_registered: "Total Registered",
      finance_operations: "Finance Operations",
      support_reports: "Support & Reports",
      system_settings: "System Settings",
      total_commissions: "Total Commissions",
      performance_reports: "Performance Reports",
      
      // --- Truck Types ---
      trella: "Trella",
      lorry: "Lorry",
      dyna: "Dyna",
      pickup: "Pickup",
      refrigerated: "Refrigerated",
      tanker: "Tanker",
      flatbed: "Flatbed",
      container: "Container",
      trailer_flatbed: "Flatbed",
      curtain: "Curtain",
      box: "Box",
      trailer_refrigerated: "Refrigerated",
      lowboy: "Lowboy",
      tank: "Tank",
      truck_types: "Truck Types",
      trailer_types: "Trailer Types",

      // --- Product Details ---
      general_goods: "General Goods",
      food_stuff: "Food Stuff",
      building_materials: "Building Materials",
      carton: "Carton",
      sack: "Sack",
      pallet: "Pallet",
      
      // --- Dimensions ---
      small: "Small",
      medium: "Medium",
      large: "Large",
      extra_large: "Extra Large"
    }
  }
};

i18n
  .use(LanguageDetector)
  .use(initReactI18next)
  .init({
    resources,
    fallbackLng: 'ar',
    interpolation: {
      escapeValue: false 
    },
    detection: {
      order: ['localStorage', 'navigator'],
      caches: ['localStorage']
    }
  });

export default i18n;
